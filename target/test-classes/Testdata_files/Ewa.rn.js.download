/*! Version=16.0.10919.37950 */
Type.registerNamespace("Common.App.Rename");Common.App.Rename.o=function(){};Common.App.Rename.o.registerInterface("Common.App.Rename.o");Common.App.Rename.h=function(){};Common.App.Rename.h.registerInterface("Common.App.Rename.h");Common.App.Rename.i=function(){};Common.App.Rename.i.registerInterface("Common.App.Rename.i");Common.App.Rename.c=function(){};Common.App.Rename.c.registerInterface("Common.App.Rename.c");Common.App.Rename.l=function(){this.f=Function.createDelegate(this,this.g)};Common.App.Rename.l.prototype={d:null,e:null,a:function(){return"Common.App.RenameFile"},c:function(n){var i,r,t;this.d=n;this.e=Common.a.b;i=this;this.d.b(Common.App.Rename.k).c(Common.App.Rename.h).b(function(){return new Common.App.Rename.k(Common.a.c(),i.d.e(Common.App.Rename.i))}).a();r=this;this.d.b(Common.App.Rename.d).c(Common.App.Rename.i).b(function(){return new Common.App.Rename.d(Common.a.c())}).a();t=this;this.d.b(Common.App.Rename.j).c(Common.App.Rename.c).b(function(){return new Common.App.Rename.j(function(){return t.e.b("RenamedFileCheckerMaxCachedAgeInMs",36e4)},function(){return t.e.b("RenamedFileCheckerPingIntervalInMs",12e4)},function(){return Common.d.e(Common.a.k.a())},function(){return new Date},function(){return Common.a.U},Common.a.c(),Common.a.e())}).a()},b:function(){this.e.e(this.f)},g:function(){Common.a.bw()&&Common.App.Rename.a.b().C(Common.a.I,Common.a.br,Common.a.cg||$a.bk)&&(Common.App.Rename.b.c().E(),this.e.a("RenameDialogIsEnabled")&&(this.d.a(Common.App.Rename.d).f(Common.a.k,Common.a.br),this.d.a(Common.App.Rename.h).a()),Common.a.dh&&this.d.a(Common.App.Rename.c).a())}};Common.App.Rename.p=function(){};Common.App.Rename.p.a=function(){Common.App.a.a().a(new Common.App.Rename.l,7,!1)};Common.App.Rename.b=function(n,t,i,r,u,f,e,o,s,h){this.o=Function.createDelegate(this,this.A);this.p=Function.createDelegate(this,this.B);this.q=Function.createDelegate(this,this.C);this.r=Function.createDelegate(this,this.w);this.s=Function.createDelegate(this,this.D);this.t=Function.createDelegate(this,this.F);this.u=Function.createDelegate(this,this.H);this.n=Function.createDelegate(this,this.z);this.k=n;this.i=t;this.j=i;this.a=r;this.e=u;this.g=f;this.c=e;this.f=o;this.l=s;this.d=h};Common.App.Rename.b.c=function(){return Common.App.Rename.b.a||(Common.App.Rename.b.a=Common.App.Rename.b.d())};Common.App.Rename.b.d=function(){return new Common.App.Rename.b(Common.a.bw,new($$sc.v.$$(Common.eb))(function(){return Common.a.c()}),new($$sc.v.$$(Common.fk))(function(){return Common.a.U}),Common.a.k,Common.a.s,function(){return Common.a.dv},Common.a.dh,Common.App.Rename.a.b().A,Common.Utils.a.a().a(Common.App.Rename.c),function(){return Common.a.dA})};Common.App.Rename.b.b=function(n,t){var i=Common.d.n(n);return t+i};Common.App.Rename.b.prototype={i:null,j:null,a:null,e:!1,g:null,c:!1,k:null,f:null,l:null,d:null,E:function(){this.b().a(3740310824,2147483648,this.n);this.b().a(2638199087,2147483648,this.u);this.b().a(1897077126,2147483648,this.t);this.b().a(3537588550,2147483648,this.s)},m:function(){return this.k()?this.g()?this.h()?this.y()?this.d()?8:32:8:32:8:8},y:function(){return this.h()?this.c?this.h().a():this.h().b():!0},z:function(){var n=Common.App.Rename.a.b().C(Common.a.I,Common.a.br,Common.a.cg||$a.bk);return n?32:8},H:function(){var n=this.y(),t=this.g();return Diag.a.a(4059649,203,50,"ShowRenameDisabledDialog: userIsAnonymous = {0}, userCanRename = {1}, userCanRenameInCurrentSession = {2}, userCanRenameInCoauthSessionsWithRenameCapableUsers = {3}",this.e,t,n,this.c),new Common.App.Rename.f(this.e,!t,!n,this.c,this.d()),32},F:function(n,t,i,r,u){return i===1?this.m():Common.a.bp?this.m()===8?(this.b().c(2638199087,2),8):(Diag.a.a(38114562,203,50,"RenameFileAttempt"),Common.a.bp(u,this.r,this.q),32):8},w:function(n,t){if(!n){this.v(5);return}if(n.OperationResult){this.v(n.OperationResult);return}this.G(t,n.NewName);this.I(n,Common.a.a().a().u);Common.a.b.a("DocumentNameInJewelInfoMenuIsEnabled")&&Common.a.a().p(!1);this.l.b()},G:function(n,t){var i={};i.NewName=t;n.a("File_Rename",i)},I:function(n,t){this.J(n.NewName);Common.a.bn=n.DirectInvokeDavUrl;var r=t(n.EditDocInClientUrl),i=new Common.fP;i.c=this.a.a();i.a=r;i.b=n.EditDocInClientUrl;this.b().b(2391221446,2,i)},v:function(n){switch(n){case 1:var t=new CommonUI.d;t.g(0);t.R($a.u,$a.bj,null);this.x()}},J:function(n){this.a.c(Common.App.Rename.b.b(this.a.a(),n));this.f(n)},C:function(n){var t=new CommonUI.d;t.g(0);switch(n){case 1:Diag.a.a(38114563,203,50,"OnRenameFileFailure: InvalidFileName");t.R($a.u,$a.bj,null);break;case 6:Diag.a.a(38114564,203,50,"OnRenameFileFailure: FileNameTooLong");t.R($a.u,$a.eu,null);break;default:Diag.a.a(38114565,203,15,"OnRenameFileFailure: {0}",{Result:n});t.R($a.et,$a.es,null)}this.x()},D:function(n,t,i){return i===1?this.m():Common.a.bo?(Common.a.bo(this.p,this.o,!1),32):8},B:function(n,t){n&&n.NewName!==Common.d.e(this.a.a())&&this.w(n,t)},A:function(){},x:function(){this.f(Common.d.e(this.a.a()))},b:function(){return this.i.a()},h:function(){return this.j.a()}};Common.App.Rename.m=function(n,t,i){this.e=Function.createDelegate(this,this.N);Common.App.Rename.m.initializeBase(this);this.d=n;this.b=t;this.c=i;this.q=Common.App.Rename.e.b()};Common.App.Rename.m.prototype={d:null,b:null,c:0,a:function(){var t={txtDocumentName:Common.d.e(this.b.a())},n;this.r($a.er,this.e,t);n=document.getElementById("txtDocumentName");this.c>0&&(n.maxLength=this.c);n.focus()},N:function(n,t){if(n===1){var r=Common.d.e(this.b.a()),i=(t.txtDocumentName||"").trim();if(i!==r&&i!==""){this.d.b(1897077126,2,i);return}}Common.bo.b().a("DoNothingResult",{Reason:"FileNameUnchanged"})}};Common.App.Rename.k=function(n,t){this.d=Function.createDelegate(this,this.e);this.b=n;this.c=t};Common.App.Rename.k.prototype={b:null,c:null,a:function(){this.b.a(2382951455,2147483648,this.d)},e:function(n,t,i){var r=32,u,f;return i===2&&(u=this.b.c(1897077126,1),u!==32?(this.b.c(2638199087,2),Common.bo.b().a("FailedProcessingStep",{Reason:"RenameDisabled"}),r=8):(f=this.c.a().a(),f.a())),r}};Common.App.Rename.d=function(n){this.c=n;this.b=!1};Common.App.Rename.d.prototype={c:null,d:null,e:0,b:!1,f:function(n,t){this.d=n;this.e=t;this.b=!0},a:function(){return this.b?new Common.App.Rename.m(this.c,this.d,this.e):null}};Common.App.Rename.f=function(n,t,i,r,u){Common.App.Rename.f.initializeBase(this);this.a=new Common.App.Rename.n(n,t,i);this.c=r;this.b=u;this.g(0);this.k(1,$a.b);this.q=Common.App.Rename.g.b();this.K($a.eB,null);this.A("RenameRow")};Common.App.Rename.f.a=function(n,t,i){n.style.display="none";t.innerText=i};Common.App.Rename.f.prototype={a:null,c:!1,b:!1,bi:function(){if(this.a.a){var n="";n=this.c?this.b?$a.eD:$a.eC:$a.ex;Common.App.Rename.f.a(document.getElementById("ulRenameFileDisabled"),document.getElementById("labelDisabledMessage"),n)}else this.a.b?Common.App.Rename.f.a(document.getElementById("ulRenameFileDisabled"),document.getElementById("labelDisabledMessage"),$a.ez):this.d()},d:function(){this.a.e&&(document.getElementById("liRenameFileRenameDisabledSignIn").style.display="none");this.a.d&&(document.getElementById("liRenameFileRenameDisabledPermission").style.display="none");this.a.c&&(document.getElementById("liRenameFileRenameDisabledCoauth").style.display="none")}};Common.App.Rename.n=function(n,t,i){this.a=!n&&!t;this.b=!n&&!i;this.a||this.b||(this.e=!n,this.d=!t,this.c=!i)};Common.App.Rename.n.prototype={a:!1,b:!1,e:!1,d:!1,c:!1};Common.App.Rename.j=function(n,t,i,r,u,f,e){this.m=Function.createDelegate(this,this.q);this.n=Function.createDelegate(this,this.r);this.l=Function.createDelegate(this,this.p);this.c=new($$sc.s.$$(Date));this.d=i;this.j=n;this.k=t;this.e=r;this.h=f;this.i=u;this.g=e};Common.App.Rename.j.prototype={c:null,j:null,k:null,d:null,e:null,i:null,h:null,g:null,f:!1,a:function(){if(!this.f){this.b();var n=new Common.K(3,2,this.k(),this.l,89);this.g.a(n);this.f=!0}},p:function(n){var t=this.i();if(t){if(t.d()||!t.c()||!Common.a.bo){this.g.b(n);this.f=!1;return}this.o();Common.a.bo(this.n,this.m,!0)}},o:function(){for(var f=this.e(),e=this.j(),i=new($$sc.r.$$(String)),r=this.c.$$ge(),n,t,u;r.$$mn();)n=r.$$cu(),f-n.a>e&&i.b(n.b);for(t=i.$$lge();t.$$mn();)u=t.$$cu(),this.c.d(u)},r:function(n){if(n){var t=n.NewName!==this.d(),i,r,u,f=(u=this.c.e(n.NewName,r={val:i}),i=r.val,u);t&&!f&&(this.h.c(3537588550,2),Diag.a.a(37860891,203,50,"RenamedFileChecker forced FileNameUpdate"));t||this.c.b(n.NewName,this.e())}},b:function(){var n=this.d();this.c.b(n,new Date)},q:function(){}};Common.App.Rename.a=function(n,t,i,r,u,f,e,o,s,h,c,l){this.z=Function.createDelegate(this,this.L);this.y=Function.createDelegate(this,this.K);this.w=Function.createDelegate(this,this.G);this.x=Function.createDelegate(this,this.J);this.v=Function.createDelegate(this,this.F);this.A=Function.createDelegate(this,this.u);this.b=n;this.f=t;this.r=i;this.n=r;this.h=u;this.o=f;this.d=e;this.g=o;this.c=s;this.l=h;this.k=c;this.i=l};Common.App.Rename.a.d=function(){Common.n.D(Common.a.f)};Common.App.Rename.a.b=function(){return Common.App.Rename.a.a||(Common.App.Rename.a.a=Common.App.Rename.a.c())};Common.App.Rename.a.c=function(){return new Common.App.Rename.a(Common.a.c(),Common.p.a(),Common.g.a(),Common.e.a(),Common.a.k,Common.App.Rename.a.d,Common.f.I,Common.f.A,Common.Utils.a.a().c(Common.co),Common.c.h(),Common.c.b(),Common.c.c())};Common.App.Rename.a.prototype={q:!1,b:null,f:null,r:null,n:null,c:null,h:null,o:null,d:null,g:null,a:null,m:0,l:!1,k:!1,i:!1,j:!1,p:!1,e:function(){return this.a.getAttribute("contentEditable")==="true"},C:function(n,t,i){return!this.b||!this.h||!this.o||!this.d||!this.g||!n||t<=0?(Common.a.a().a().a(),!1):(this.a=n,this.a.title=i,this.a.setAttribute("role","button"),this.a.setAttribute("Unselectable","on"),this.m=t,this.M(),this.q=!0,!0)},M:function(){this.f&&(this.f.a("blur",this.a,this.v),this.f.a("paste",this.a,this.x));this.r.a("keydown",this.a,this.w);this.n.a("msospPointerDown",this.a,this.y);this.n.a("msospPointerUp",this.a,this.z)},F:function(){return this.e()&&!this.j&&(this.l||this.g(this.a),this.B(),this.s(!1)),this.j=!1,!1},J:function(){return Diag.a.a(4281482,203,15,"Attempting to paste into the document title"),!0},G:function(n){return this.e()?this.H(n):this.I(n)},H:function(n){var i=n.a.keyCode,t=!1;switch(i){case 13:this.B();this.s(this.k||this.i);t=!0;break;case 9:this.l&&this.g(this.a);break;case 27:this.t();this.s(this.k||this.i);t=!0}return t},I:function(n){var i=n.a.keyCode,t=!1;switch(i){case 13:case 32:this.D(this.i);this.e()&&this.d(this.a);t=!0}return t},K:function(){return this.e()||(this.D(!1),this.e()&&(this.a.focus(),this.d(this.a),this.p=!0)),!1},L:function(){return this.p?(this.d(this.a),this.p=!1,!0):!1},E:function(){var n=this.b.c(1897077126,1);return n===32},B:function(){var i=Common.d.e(this.h.a()),n=this.a.innerText.trim(),t;n.length>this.m&&(n=n.substr(0,this.m));n!==i&&n!==""?(t=this.b.b(1897077126,2,n),t!==32?this.t():this.u(n)):this.t()},t:function(){this.u(Common.d.e(this.h.a()))},u:function(n){this.q&&(this.a.innerText=n,this.o())},D:function(n){if(this.E()){if(!this.e()){if(n&&(this.j=!0,this.a.blur()),this.a.setAttribute("contentEditable","true"),this.a.removeAttribute("Unselectable"),this.a.setAttribute("role","textbox"),this.a.style.width="auto",Sys.UI.DomElement.addCssClass(this.a,"EditableBreadcrumbItem"),this.c){var t=this;this.c.a(function(n){n.d(!0)})}n&&this.a.focus();Diag.a.a(9234188,203,50,"Rename document from header.")}}else this.b.c(2638199087,2)},s:function(n){if(this.a.removeAttribute("contentEditable"),this.a.setAttribute("Unselectable","on"),this.a.setAttribute("role","button"),Sys.UI.DomElement.removeCssClass(this.a,"EditableBreadcrumbItem"),this.c){var t=this;this.c.a(function(n){n.d(!1)})}n&&(this.a.blur(),this.a.focus())}};Common.App.Rename.e=function(){};Common.App.Rename.e.b=function(){return CommonUI.b.a(Common.App.Rename.e.a,$a.eq)};Common.App.Rename.g=function(){};Common.App.Rename.g.b=function(){return CommonUI.b.a(Common.App.Rename.g.a,$a.ev,$a.eA,$a.ey,$a.ew)};Common.App.Rename.m.registerClass("Common.App.Rename.m",CommonUI.b);Common.App.Rename.k.registerClass("Common.App.Rename.k",null,Common.App.Rename.h);Common.App.Rename.d.registerClass("Common.App.Rename.d",null,Common.App.Rename.i);Common.App.Rename.f.registerClass("Common.App.Rename.f",CommonUI.b);Common.App.Rename.j.registerClass("Common.App.Rename.j",null,Common.App.Rename.c);Common.App.Rename.b.a=null;Common.App.Rename.a.a=null;Common.App.Rename.e.a="<div class='WACDialogRow' id='DocumentNameBlock'> <label id='lblDocumentName' class='WACDialogLabel' for='txtDocumentName' >{0}<\/label> <input type='text' id='txtDocumentName' class='WACDialogInput' autocomplete=\"off\"/> <\/div>";Common.App.Rename.g.a="<div class='WACDialogRow' id='RenameRow'> <label id='labelDisabledMessage' class='WACDialogLabel' >{0}<\/label> <div class='WACDialogRow' id='MultipleSuggestionsRow'> <ul id='ulRenameFileDisabled' class='WACDialogUList'> <li id='liRenameFileRenameDisabledSignIn'>{1}<\/li> <li id='liRenameFileRenameDisabledPermission'>{2}<\/li> <li id='liRenameFileRenameDisabledCoauth'>{3}<\/li> <\/ul> <\/div> <\/div>";Common.App.Rename.p.a();Type.registerNamespace("_Ewa");_Ewa.zU=function(n){this.e=n};_Ewa.zU.prototype={e:null,c:function(){return!1},d:function(){return!1},b:function(){return this.e.b().D()},a:function(){return this.b()}};_Ewa.zW=function(n){this.a=n};_Ewa.zW.prototype={a:null,q:function(n,t,i){return this.a.b(i,t),$$sc.a.a(Boolean,!0)},p:function(n,t,i,r){return t.a===1897077126&&!!r&&r.a===1},r:function(){return!1},s:function(){return!1},dispose:function(){this.a=null}};_Ewa.qu=function(n){_Ewa.qu.initializeBase(this,[n])};_Ewa.qu.a=function(n){_Ewa.R.a(115,new _Ewa.qu(n))};_Ewa.qu.prototype={k:function(){var n=_Ewa.l.a(_Ewa.hm,this.h.a(),116,this.cI()),t=this;_Ewa.d.cw(n,function(){t.l([new _Ewa.zW(n.a())],null)},this.cI(),3)}};_Ewa.Jy=function(){};_Ewa.Jy.a=function(){_Ewa.e.a(function(n){_Ewa.qw.a(n);_Ewa.qu.a(n)})};_Ewa.qv=function(n,t){this.i=Function.createDelegate(this,this.l);this.j=Function.createDelegate(this,this.m);this.h=Function.createDelegate(this,this.k);_Ewa.qv.initializeBase(this,[!1]);this.c=n;this.f=t};_Ewa.qv.a=function(n){var t;switch(n.Errors[0].MessageId){case 456:t=2;break;case 457:t=1;break;case 458:t=6;break;case 459:t=4;break;default:t=5}return t};_Ewa.qv.prototype={f:null,c:null,d:null,g:null,e:null,a:function(){Common.a.bp=this.h;this.d=Common.a.U;Common.a.U=new _Ewa.zU(this.c)},dispose:function(){Common.a.bp=null;Common.a.U=this.d;this.d=null;this.c=null;_Ewa.FC.prototype.dispose.call(this)},b:function(n,t){var r=n.newFileName;if(!!r){var u=this.c.d().a().b(),i=this,f=this;_Ewa.O.a(this.c.f(),function(n,t){return _Ewa.zV.a(i.c.d().a(),r,_Ewa.k.a(n,i.j),_Ewa.k.b(t,i.i),null,u)},function(n){return new _Ewa.G(0,n,0)},t)}},k:function(n,t,i){this.g=t;this.e=i;this.c.h().b(new _Ewa.bb(1897077126,_Ewa.C.a,2,3,null),{newFileName:n},null)},m:function(n){var u,f,t,r,i;_Ewa.W.a(n)||!n.Result?(u=_Ewa.qv.a(n),f=[456,457,459,460,455,458],_Ewa.H.a(this.c).a().i(f),this.e(u)):(t=n.Result,r=this.c.l(),r.FullDocumentInfo.DownloadACopyUrl=t.DownloadACopyUrl,r.FullDocumentInfo.BreadcrumbDocName=t.NewFileName,_Ewa.fU.c(r,t.NewFileName),i={},i.NewName=t.NewFileName,i.DirectInvokeDavUrl=t.DirectInvokeDAVUrl,i.EditDocInClientUrl=t.EditDocInClientUrl,i.OperationResult=0,this.g(i,this.f))},l:function(){this.e(5)}};_Ewa.qw=function(n){_Ewa.qw.initializeBase(this);this.h=n;this.j()};_Ewa.qw.a=function(n){n.a().b(_Ewa.Ic.$$(_Ewa.hm),116,new _Ewa.qw(n))};_Ewa.qw.prototype={h:null,l:null,k:null,b:function(){var n,i;if(!this.k){n=_Ewa.db.a(_Ewa.hm,_Ewa.w.a(),this.cI(),"Task",null);this.k=n.a;var t=_Ewa.l.a(Common.O,this.h.a(),133,this.cI()),r=_Ewa.l.a(Object,this.h.a(),151,this.cI()),u=this;_Ewa.d.cw(_Ewa.d.ws([r,t],this.cI(),3),function(){n.b(new _Ewa.qv(u.h,t.a()))},this.cI(),3)}i=this;this.k.CW(function(n){i.i(n.a())})},dispose:function(){System.a.a(this.l);this.l=null;this.h=null;_Ewa.cC.prototype.dispose.call(this)}};_Ewa.zV=function(){};_Ewa.zV.a=function(n,t,i,r,u,f){var e=n.a(9,f);return e.newFileName=t,_Ewa.f.a(n,"RenameFile",e,i,r,u,0,null)};_Ewa.qu.registerClass("_Ewa.qu",_Ewa.R);_Ewa.qv.registerClass("_Ewa.qv",_Ewa.FC,_Ewa.hm,Sys.IDisposable);_Ewa.qw.registerClass("_Ewa.qw",_Ewa.lH.$$(_Ewa.hm));_Ewa.Jy.a();Type.registerNamespace("_Ewa");_Ewa.zX=function(n){this.a=n};_Ewa.zX.prototype={a:null,s:function(){return!1},q:function(n,t,i){var r=this.a.b(2382951455,2,i);return r!==2?$$sc.a.a(Boolean,!0):_Ewa.F.a(t.a)},p:function(n,t){return t.a===1204860550},r:function(){return!1}};_Ewa.qx=function(n){_Ewa.qx.initializeBase(this,[n])};_Ewa.qx.a=function(n){_Ewa.R.a(127,new _Ewa.qx(n))};_Ewa.qx.prototype={k:function(){var n=this;_Ewa.d.cw(_Ewa.l.a(Object,this.h.a(),151,this.cI()),function(){n.l([new _Ewa.zX(Common.a.c())],null)},this.cI(),3)}};_Ewa.qx.registerClass("_Ewa.qx",_Ewa.R);Type.registerNamespace("_Ewa");_Ewa.JA=function(){};_Ewa.JA.a=function(){_Ewa.e.a(_Ewa.qx.a)};_Ewa.JA.a();